## Stage 2 : 风云初起
首战告捷后，小徐雄心万丈，决定要顺着这个好势头一路向前冲过去。

当系统底层存储部分决定了之后，小徐按照以往的经验，思路开始向上延伸。接下来该干嘛了？对了，就先来选择分布式计算引擎。

一个有节操的工程师在技术选择上应当做到公平公正公开，不应该掺杂过多的个人情感而使自己的选择有所倾向性，然而小徐并不是这样的人。尽管在存储部分小徐选择了HDFS作为分布式文件系统，但他并没有自然而然地选择HDFS的好基友Hadoop Mapreduce作为计算引擎。

Hadoop Mapreduce已经功成名就，是这个领域里真正的元老了，然而在小徐心里，元老就应该呆在养老院里颐养天年，而不是跳出来在自己面前倚老卖老指手画脚，这个时代还是让给年轻人比较好。小徐把自己的眼光重点放在了Spark上，没有别的理由，只是因为Spark提供了“一站式”技术解决方案，能够覆盖绝大多数分布式计算业务，这样就能省太多事情了。

作出决定后，小徐心情很好，把这个决定发邮件告诉了领导，并且得意洋洋地抄送了他的产品经理小杨，然后去休息区泡了一杯咖啡，悠闲地敲着二郎腿，想着接下来应该干些什么。

对于程序员来说，总有一些人是讨厌的，比如产品经理，总有一些人是特别讨厌的，比如小杨这样的产品经理。

小杨在收到小徐的邮件后，心想可选的方案这么多你什么都不解释就把决策做了？这你视团队规范为何物？视我这个产品经理为何物？当小杨看到小徐在休息区非常惬意的样子的时候，就更加生气啦，于是走到小徐的对面，缓缓坐下，淡淡地说：“为什么是spark，不能hadoop，不能是storm，我听说最近Flink也挺火爆的，你做选择总要有个理由的，我需要一个解释。”

小徐的思维一下子从遥远的外太空被拉了回来，非常不耐烦：“这不是明摆着的嘛，因为帅啊，因为酷炫啊！”，心想这里面门道多着呢，我就算解释了你听得懂么你。

“你……请注意职业素养，不要这么不专业，我等你邮件解释，否则我只能向春哥报告你设计上的轻率！”，说完站起来头也不回地走了（注：春哥就是传说中的领导，一个威信十足和蔼可亲经验丰富的行业老兵，但因为随着年龄的增长注意力渐渐向管理和商务转移，对技术细节并不会投入过多精力了）。

小徐没有办法，只能着手开始写他的分析邮件阐述他选择spark的理由：
> ### 选择spark的理由
> 1. Spark是目前已经成熟的分布式计算平台，相比Hadoop Mapreduce，Spark的分布式内存管理子系统能免去Hadoop MR任务计算中间数据写硬盘的动作，而尽可能地将计算过程中用到的数据搬到内存里，从而加快了计算速度。
> 2. Spark提供比Hadoop MR更加高层的API，对于一些常用的数据操作都有很高级的封装，简化了开发难度。
> 3. 由于春哥的需求列表里说了不仅要运行普通的数据分析任务还要运行机器学习任务，还要为一群只会写SQL的萌妹子提供开发接口，如果使用hadoop，那么还要维护Mahout这样的机器学习引擎，还要维护Hive这种数据分析工具，太危险了，而spark内置了ml模块提供机器学习服务，提供spark sql提供数据分析接口，一站式解决所有问题。
> 4. Storm只能提供流式计算服务，这个在春哥的需求里也没有提；Flink太不成熟社区活跃度比spark差之甚远，直接淘汰。

小杨没有回应，但小徐毕竟是一个充满了执念和爱恨分明的程序员，他不准备就这么轻易地放过小杨，他决定做点什么让自己无懈可击。

那么他会做些什么呢？下回分解……

